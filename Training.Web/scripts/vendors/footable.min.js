(function(n,t){window.console=window.console||{log:function(){},error:function(){}};n.fn.footable=function(n,i){return n=n||{},this.filter("table").each(function(r,u){var f=t.get(u);f instanceof t.Table&&f.destroy();t.init(u,n,i)})};var i={events:[]};t.__debug__=JSON.parse(localStorage.getItem("footable_debug"))||!1;t.__debug_options__=JSON.parse(localStorage.getItem("footable_debug_options"))||i;t.debug=function(r,u){if(!t.is.boolean(r))return t.__debug__;t.__debug__=r;t.__debug__?(localStorage.setItem("footable_debug",JSON.stringify(t.__debug__)),t.__debug_options__=n.extend(!0,{},i,u||{}),t.is.hash(u)&&localStorage.setItem("footable_debug_options",JSON.stringify(t.__debug_options__))):(localStorage.removeItem("footable_debug"),localStorage.removeItem("footable_debug_options"))};t.get=function(t){return n(t).first().data("__FooTable__")};t.init=function(n,i,r){return new t.Table(n,i,r)}})(jQuery,FooTable=window.FooTable||{}),function(n){var t=function(){return!0};n.arr={};n.arr.each=function(t,i){if(n.is.array(t)&&n.is.fn(i))for(var r=0,u=t.length;r<u;r++)if(i(t[r],r)===!1)break};n.arr.get=function(t,i){var u=[],r,f;if(!n.is.array(t))return u;if(!n.is.fn(i))return t;for(r=0,f=t.length;r<f;r++)i(t[r],r)&&u.push(t[r]);return u};n.arr.any=function(i,r){if(!n.is.array(i))return!1;r=n.is.fn(r)?r:t;for(var u=0,f=i.length;u<f;u++)if(r(i[u],u))return!0;return!1};n.arr.contains=function(t,i){if(!n.is.array(t)||n.is.undef(i))return!1;for(var r=0,u=t.length;r<u;r++)if(t[r]==i)return!0;return!1};n.arr.first=function(i,r){if(!n.is.array(i))return null;r=n.is.fn(r)?r:t;for(var u=0,f=i.length;u<f;u++)if(r(i[u],u))return i[u];return null};n.arr.map=function(t,i){var u=[],f=null,r,e;if(!n.is.array(t)||!n.is.fn(i))return u;for(r=0,e=t.length;r<e;r++)(f=i(t[r],r))!=null&&u.push(f);return u};n.arr.remove=function(t,i){var u=[],f=[],r,e,o;if(!n.is.array(t)||!n.is.fn(i))return f;for(r=0,e=t.length;r<e;r++)i(t[r],r,f)&&(u.push(r),f.push(t[r]));for(u.sort(function(n,t){return t-n}),r=0,e=u.length;r<e;r++)o=u[r]-r,t.splice(o,1);return f}}(FooTable),function(n){n.is={};n.is.type=function(n,t){return typeof n===t};n.is.defined=function(n){return typeof n!="undefined"};n.is.undef=function(n){return typeof n=="undefined"};n.is.array=function(n){return"[object Array]"===Object.prototype.toString.call(n)};n.is.date=function(n){return"[object Date]"===Object.prototype.toString.call(n)&&!isNaN(n.getTime())};n.is.boolean=function(n){return"[object Boolean]"===Object.prototype.toString.call(n)};n.is.string=function(n){return"[object String]"===Object.prototype.toString.call(n)};n.is.number=function(n){return"[object Number]"===Object.prototype.toString.call(n)};n.is.fn=function(t){return n.is.defined(window)&&t===window.alert||"[object Function]"===Object.prototype.toString.call(t)};n.is.error=function(n){return"[object Error]"===Object.prototype.toString.call(n)};n.is.object=function(n){return"[object Object]"===Object.prototype.toString.call(n)};n.is.hash=function(t){return n.is.object(t)&&t.constructor===Object&&!t.nodeType&&!t.setInterval};n.is.element=function(n){return typeof HTMLElement=="object"?n instanceof HTMLElement:n&&typeof n=="object"&&n!==null&&n.nodeType===1&&typeof n.nodeName=="string"};n.is.promise=function(t){return n.is.object(t)&&n.is.fn(t.then)&&n.is.fn(t.promise)};n.is.jq=function(t){return n.is.defined(jQuery)&&t instanceof jQuery&&t.length>0};n.is.emptyObject=function(t){if(!n.is.hash(t))return!1;for(var i in t)if(t.hasOwnProperty(i))return!1;return!0};n.is.emptyArray=function(t){return n.is.array(t)?t.length===0:!0};n.is.emptyString=function(t){return n.is.string(t)?t.length===0:!0}}(FooTable),function(n){n.str={};n.str.contains=function(t,i,r){return!n.is.emptyString(t)&&!n.is.emptyString(i)&&i.length<=t.length&&(r?t.toUpperCase().indexOf(i.toUpperCase()):t.indexOf(i))!==-1};n.str.containsWord=function(t,i,r){var f,u,e;if(n.is.emptyString(t)||n.is.emptyString(i)||t.length<i.length)return!1;for(f=t.split(/\W/),u=0,e=f.length;u<e;u++)if(r?f[u].toUpperCase()==i.toUpperCase():f[u]==i)return!0;return!1};n.str.from=function(n,t){return this.contains(n,t)?n.substring(n.indexOf(t)+1):n};n.str.startsWith=function(n,t){return n.slice(0,t.length)==t};n.str.toCamelCase=function(n){return n.toUpperCase()===n?n.toLowerCase():n.replace(/^([A-Z])|[-\s_](\w)/g,function(n,t,i){return i?i.toUpperCase():t.toLowerCase()})}}(FooTable),function(n){"use strict";function t(){}Object.create||(Object.create=function(){var t=function(){};return function(i){if(arguments.length>1)throw Error("Second argument not supported");if(!n.is.object(i))throw TypeError("Argument must be an object");t.prototype=i;return t.prototype=null,{}}}());var i=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;t.__extend__=function(t,r,u,f){t[r]=n.is.fn(f)&&i.test(u)?function(n,t){return function(){var n,i;return n=this._super,this._super=f,i=t.apply(this,arguments),this._super=n,i}}(r,u):u};t.extend=function(r,u){function h(t,r,u,f){t[r]=n.is.fn(f)&&i.test(u)?function(n,t,i){return function(){var n,r;return n=this._super,this._super=i,r=t.apply(this,arguments),this._super=n,r}}(r,u,f):u}var s=Array.prototype.slice.call(arguments),f,c,e,o;if(r=s.shift(),u=s.shift(),n.is.hash(r)){f=Object.create(this.prototype);c=this.prototype;for(e in r)e!=="__ctor__"&&h(f,e,r[e],c[e]);return o=n.is.fn(f.__ctor__)?f.__ctor__:function(){if(!n.is.fn(this.construct))throw new SyntaxError('FooTable class objects must be constructed with the "new" keyword.');this.construct.apply(this,arguments)},f.construct=n.is.fn(f.construct)?f.construct:function(){},o.prototype=f,f.constructor=o,o.extend=t.extend,o}n.is.string(r)&&n.is.fn(u)&&h(this.prototype,r,u,this.prototype[r])};n.Class=t;n.ClassFactory=n.Class.extend({construct:function(){this.registered={}},contains:function(t){return n.is.defined(this.registered[t])},register:function(t,i,r){if(n.is.string(t)&&n.is.fn(i)){var u=this.registered[t];this.registered[t]={name:t,klass:i,priority:n.is.number(r)?r:n.is.defined(u)?u.priority:0}}},load:function(){var t=this,f=Array.prototype.slice.call(arguments),i=[],r=[];for(var u in t.registered)t.registered.hasOwnProperty(u)&&i.push(t.registered[u]);return i.sort(function(n,t){return t.priority-n.priority}),n.arr.each(i,function(i){n.is.fn(i.klass)&&r.push(t._make(i.klass,f))}),r},make:function(t){var r=this,u=Array.prototype.slice.call(arguments),i;return(t=u.shift(),i=r.registered[t],n.is.fn(i.klass))?r._make(i.klass,u):null},_make:function(n,t){function i(){return n.apply(this,t)}return i.prototype=n.prototype,new i}})}(FooTable),function(n,t){t.css2json=function(i){var u,f,e,o,s,r,h;if(t.is.emptyString(i))return{};for(u={},f=i.split(";"),r=0,h=f.length;r<h;r++)e=f[r].split(":"),o=t.str.toCamelCase(n.trim(e[0])),s=n.trim(e[1]),u[o]=s;return u};t.getFnPointer=function(n){return t.is.emptyString(n)?null:t.is.fn(window[n])?window[n]:null};t.checkFnValue=function(n,i,r){function u(n,i,r){return t.is.fn(i)?function(){return i.apply(n,arguments)}:r}return r=t.is.fn(r)?r:null,t.is.fn(i)?u(n,i,r):t.is.type(i,"string")?u(n,t.getFnPointer(i),r):r}}(jQuery,FooTable),function(n,t){t.Cell=t.Class.extend({construct:function(n,t,i,r){this.ft=n;this.row=t;this.column=i;this.created=!1;this.define(r)},define:function(i){this.$el=t.is.element(i)||t.is.jq(i)?n(i):null;this.$detail=null;var r=t.is.hash(i)&&t.is.hash(i.options)&&t.is.defined(i.value);this.value=this.column.parser.call(this.column,t.is.jq(this.$el)?this.$el:r?i.value:i,this.ft.o);this.o=n.extend(!0,{classes:null,style:null},r?i.options:{});this.classes=t.is.jq(this.$el)&&this.$el.attr("class")?this.$el.attr("class").split(/\S+/g):t.is.array(this.o.classes)?this.o.classes:t.is.string(this.o.classes)?this.o.classes.split(/\S+/g):[];this.style=t.is.jq(this.$el)&&this.$el.attr("style")?t.css2json(this.$el.attr("style")):t.is.hash(this.o.style)?this.o.style:t.is.string(this.o.style)?t.css2json(this.o.style):{}},$create:function(){this.created||((this.$el=t.is.jq(this.$el)?this.$el:n("<td/>")).data("value",this.value).contents(),this._setClasses(this.$el),this._setStyle(this.$el),this.$detail=n("<tr/>").addClass(this.row.classes.join(" ")).data("__FooTableCell__",this).append(n("<th/>",{text:this.column.title})).append(n("<td/>")),this.created=!0)},collapse:function(){this.created&&(this.$detail.children("td").first().attr("class",this.$el.attr("class")).attr("style",this.$el.attr("style")).css("display","table-cell").append(this.$el.contents().detach()),t.is.jq(this.$detail.parent())||this.$detail.appendTo(this.row.$details.find(".footable-details > tbody")))},restore:function(){if(this.created){if(t.is.jq(this.$detail.parent())){var n=this.$detail.children("td").first();this.$el.attr("class",n.attr("class")).attr("style",n.attr("style")).css("display",this.column.hidden||!this.column.visible?"none":"table-cell").append(n.contents().detach())}this.$detail.detach()}},parse:function(){return this.column.parser.call(this.column,this.$el,this.ft.o)},format:function(n){return this.column.formatter.call(this.column,n,this.ft.o)},val:function(i,r){var f,e,o,u;if(t.is.undef(i))return this.value;f=this;e=t.is.hash(i)&&t.is.hash(i.options)&&t.is.defined(i.value);this.o=n.extend(!0,{classes:f.classes,style:f.style},e?i.options:{});this.value=e?i.value:i;this.classes=t.is.array(this.o.classes)?this.o.classes:t.is.string(this.o.classes)?this.o.classes.split(/\S+/g):[];this.style=t.is.hash(this.o.style)?this.o.style:t.is.string(this.o.style)?t.css2json(this.o.style):{};this.created&&(this.$el.data("value",this.value).empty(),o=this.$detail.children("td").first().empty(),u=t.is.jq(this.$detail.parent())?o:this.$el,u.append(this.format(this.value)),this._setClasses(u),this._setStyle(u),(t.is.boolean(r)?r:!0)&&this.row.draw())},_setClasses:function(n){var r=!t.is.emptyArray(this.column.classes),u=!t.is.emptyArray(this.classes),i=null;(n.removeAttr("class"),r||u)&&(r&&u?i=this.classes.concat(this.column.classes).join(" "):r?i=this.column.classes.join(" "):u&&(i=this.classes.join(" ")),t.is.emptyString(i)||n.addClass(i))},_setStyle:function(i){var u=!t.is.emptyObject(this.column.style),f=!t.is.emptyObject(this.style),r=null;(i.removeAttr("style"),u||f)&&(u&&f?r=n.extend({},this.column.style,this.style):u?r=this.column.style:f&&(r=this.style),t.is.hash(r)&&i.css(r))}})}(jQuery,FooTable),function(n,t){t.Column=t.Class.extend({construct:function(n,i){this.ft=n;this.type="text";this.virtual=t.is.boolean(i.virtual)?i.virtual:!1;this.$el=t.is.jq(i.$el)?i.$el:null;this.index=t.is.number(i.index)?i.index:-1;this.define(i);this.$create()},define:function(n){this.hidden=t.is.boolean(n.hidden)?n.hidden:!1;this.visible=t.is.boolean(n.visible)?n.visible:!0;this.name=t.is.string(n.name)?n.name:null;this.name==null&&(this.name="col"+(n.index+1));this.title=t.is.string(n.title)?n.title:null;!this.virtual&&this.title==null&&t.is.jq(this.$el)&&(this.title=this.$el.html());this.title==null&&(this.title="Column "+(n.index+1));this.style=t.is.hash(n.style)?n.style:t.is.string(n.style)?t.css2json(n.style):{};this.classes=t.is.array(n.classes)?n.classes:t.is.string(n.classes)?n.classes.split(/\S+/g):[];this.parser=t.checkFnValue(this,n.parser,this.parser);this.formatter=t.checkFnValue(this,n.formatter,this.formatter)},$create:function(){(this.$el=!this.virtual&&t.is.jq(this.$el)?this.$el:n("<th/>")).html(this.title)},parser:function(n){return t.is.jq(n)?n.data("value")||n.text():t.is.defined(n)&&n!=null?n+"":null},formatter:function(n){return n==null?"":n},createCell:function(n){var i=t.is.jq(n.$el)?n.$el.children("td,th").get(this.index):null,r=t.is.hash(n.value)?n.value[this.name]:null;return new t.Cell(this.ft,n,this,i||r)}});t.columns=new t.ClassFactory}(jQuery,FooTable),function(n,t){t.Defaults=function(){this.stopPropagation=!1;this.on=null};t.defaults=new t.Defaults}(jQuery,FooTable),function(n,t){t.Row=t.Class.extend({construct:function(n,t,i){this.ft=n;this.columns=t;this.created=!1;this.define(i)},define:function(i){var r,u,f;this.$el=t.is.element(i)||t.is.jq(i)?n(i):null;this.$toggle=n("<span/>",{"class":"footable-toggle fooicon fooicon-plus"});r=t.is.hash(i);u=r&&t.is.hash(i.options)&&t.is.hash(i.value);this.value=r?u?i.value:i:null;this.o=n.extend(!0,{expanded:!1,classes:null,style:null},u?i.options:{});this.expanded=t.is.jq(this.$el)?this.$el.data("expanded")||this.o.expanded:this.o.expanded;this.classes=t.is.jq(this.$el)&&this.$el.attr("class")?this.$el.attr("class").split(/\S+/g):t.is.array(this.o.classes)?this.o.classes:t.is.string(this.o.classes)?this.o.classes.split(/\S+/g):[];this.style=t.is.jq(this.$el)&&this.$el.attr("style")?t.css2json(this.$el.attr("style")):t.is.hash(this.o.style)?this.o.style:t.is.string(this.o.style)?t.css2json(this.o.style):{};this.cells=this.createCells();(!t.is.hash(this.value)||t.is.emptyObject(this.value))&&(f={},t.arr.each(self.cells,function(n){f[n.column.name]=n.val()}),this.value=f)},$create:function(){if(!this.created){(this.$el=t.is.jq(this.$el)?this.$el:n("<tr/>")).data("__FooTableRow__",this);this._setClasses(this.$el);this._setStyle(this.$el);this.ft.rows.toggleColumn=="last"&&this.$toggle.addClass("last-column");this.$details=n("<tr/>",{"class":"footable-detail-row"}).append(n("<td/>",{colspan:this.ft.columns.visibleColspan}).append(n("<table/>",{"class":"footable-details "+this.ft.classes.join(" ")}).append("<tbody/>")));var i=this;t.arr.each(i.cells,function(n){n.created||n.$create();i.$el.append(n.$el)});i.$el.off("click.ft.row").on("click.ft.row",{self:i},i._onToggle);this.created=!0}},createCells:function(){var n=this;return t.arr.map(n.columns,function(t){return t.createCell(n)})},val:function(i){var u;if(!t.is.hash(i))return this.value;this.collapse(!1);var r=this,e=t.is.hash(i),f=e&&t.is.hash(i.options)&&t.is.hash(i.value);this.o=n.extend(!0,{expanded:r.expanded,classes:r.classes,style:r.style},f?i.options:{});this.expanded=this.o.expanded;this.classes=t.is.array(this.o.classes)?this.o.classes:t.is.string(this.o.classes)?this.o.classes.split(/\S+/g):[];this.style=t.is.hash(this.o.style)?this.o.style:t.is.string(this.o.style)?t.css2json(this.o.style):{};u=f?i.value:i;t.arr.each(this.cells,function(n){t.is.defined(u[n.column.name])&&n.val(u[n.column.name],!1)});this.created&&(this._setClasses(this.$el),this._setStyle(this.$el),this.draw())},_setClasses:function(n){var r=!t.is.emptyArray(this.classes),i=null;if(n.removeAttr("class"),r)i=this.classes.join(" ");else return;t.is.emptyString(i)||n.addClass(i)},_setStyle:function(n){var r=!t.is.emptyObject(this.style),i=null;if(n.removeAttr("style"),r)i=this.style;else return;t.is.hash(i)&&n.css(i)},expand:function(){this.created&&(this.__hidden__=t.arr.map(this.cells,function(n){return n.column.hidden&&n.column.visible?n:null}),this.__hidden__.length>0&&(this.$details.insertAfter(this.$el).children("td").first().attr("colspan",this.ft.columns.visibleColspan),t.arr.each(this.__hidden__,function(n){n.collapse()})),this.$el.attr("data-expanded",!0),this.$toggle.removeClass("fooicon-plus").addClass("fooicon-minus"),this.expanded=!0)},collapse:function(n){this.created&&(t.arr.each(this.__hidden__,function(n){n.restore()}),this.$details.detach(),this.$el.removeAttr("data-expanded"),this.$toggle.removeClass("fooicon-minus").addClass("fooicon-plus"),(t.is.boolean(n)?n:!0)&&(this.expanded=!1))},predraw:function(){this.created&&(this.expanded&&this.collapse(!1),this.$toggle.detach(),this.$el.detach())},draw:function(n){this.created||this.$create();n.append(this.$el);var i=this;t.arr.each(i.cells,function(n){n.$el.css("display",n.column.hidden||!n.column.visible?"none":"table-cell");i.ft.rows.showToggle&&i.ft.columns.hasHidden&&(i.ft.rows.toggleColumn=="first"&&n.column.index==i.ft.columns.firstVisibleIndex||i.ft.rows.toggleColumn=="last"&&n.column.index==i.ft.columns.lastVisibleIndex)&&n.$el.prepend(i.$toggle)});this.expanded&&this.expand()},toggle:function(){this.created&&this.ft.columns.hasHidden&&(this.expanded?this.collapse():this.expand())},_onToggle:function(t){var i=t.data.self;n(t.target).is("tr,td,.footable-toggle")&&i.toggle()}})}(jQuery,FooTable),function(n,t){t.instances=[];t.Table=t.Class.extend({construct:function(i,r,u){this._resizeTimeout=null;this.id=t.instances.push(this);this.initialized=!1;this.$el=(t.is.jq(i)?i:n(i)).first();this.o=n.extend(!0,{},t.defaults,r);this.classes=[];this.breakpoints=t.components.internal.make("breakpoints",this);this.columns=t.components.internal.make("columns",this);this.rows=t.components.internal.make("rows",this);this.components={internal:[this.breakpoints,this.columns,this.rows],core:t.components.core.load(this),custom:t.components.load(this)};var f=this;f._preinit().then(function(){return f._init().then(function(){t.is.fn(u)&&u.call(f,f)})},function(n){t.is.error(n)&&console.error("FooTable: unhandled error thrown during initialization.",n)})},_preinit:function(){var i=this;return this.raise("preinit.ft.table").then(function(){var f=i.$el.attr("class").match(/\S+/g),u=i.$el.data()||{},r,o,e;for(i.o.ajax=t.checkFnValue(i,u.ajax,i.o.ajax),i.o.stopPropagation=t.is.boolean(u.stopPropagation)?u.stopPropagation:i.o.stopPropagation,r=0,o=f.length;r<o;r++)t.str.startsWith(f[r],"footable")||i.classes.push(f[r]);return e=n("<div/>",{"class":"footable-loader"}).append(n("<span/>",{"class":"fooicon fooicon-loader"})),i.$el.hide().after(e),i.execute(!1,!1,"preinit",u).always(function(){i.$el.show();e.remove()})})},_init:function(){var i=this;return i.raise("init.ft.table").then(function(){var r=i.$el.children("thead"),f=i.$el.children("tbody"),u=i.$el.children("tfoot");if(i.$el.addClass("footable footable-"+i.id),t.is.hash(i.o.on))i.$el.on(i.o.on);return u.length==0&&i.$el.append(u=n("<tfoot/>")),f.length==0&&i.$el.append("<tbody/>"),r.length==0&&i.$el.prepend(r=n("<thead/>")),i.execute(!1,!0,"init").then(function(){return i.$el.data("__FooTable__",i),u.children("tr").length==0&&u.remove(),r.children("tr").length==0&&r.remove(),i.draw().then(function(){n(window).off("resize.ft"+i.id,i._onWindowResize).on("resize.ft"+i.id,{self:i},i._onWindowResize);i.initialized=!0})})})},destroy:function(){var n=this;return n.raise("destroy.ft.table").then(function(){return n.execute(!0,!0,"destroy").then(function(){n.$el.removeData("__FooTable__");t.is.hash(n.o.on)&&n.$el.off(n.o.on);n.initialized=!1})},function(n){t.is.error(n)&&console.error("FooTable: unhandled error thrown while destroying the plugin.",n)})},raise:function(i,r){var u=this,f=t.__debug__&&(t.is.emptyArray(t.__debug_options__.events)||t.arr.any(t.__debug_options__.events,function(n){return t.str.contains(i,n)}));return r=r||[],r.unshift(this),n.Deferred(function(t){var e=n.Event(i);if(u.o.stopPropagation==!0)u.$el.one(i,function(n){n.stopPropagation()});f&&console.log("FooTable:"+i+": ",r);u.$el.trigger(e,r);e.isDefaultPrevented()?(f&&console.log('FooTable: default prevented for the "'+i+'" event.'),t.reject(e)):t.resolve(e)})},use:function(n){for(var i=this.components.internal.concat(this.components.core,this.components.custom),t=0,r=i.length;t<r;t++)if(i[t]instanceof n)return i[t];return null},draw:function(){var n=this;return n.execute(!1,!0,"predraw").then(function(){return n.raise("predraw.ft.table").then(function(){return n.execute(!1,!0,"draw").then(function(){return n.raise("draw.ft.table").then(function(){return n.execute(!1,!0,"postdraw").then(function(){n.raise("postdraw.ft.table")})})})})},function(n){t.is.error(n)&&console.error("FooTable: unhandled error thrown during a draw operation.",n)})},execute:function(n,i){var r=this,u=Array.prototype.slice.call(arguments);n=u.shift();i=u.shift();var f=r.components.internal.slice(0),e=i?t.arr.get(r.components.core,function(n){return n.enabled}):r.components.core.slice(0),o=i?t.arr.get(r.components.custom,function(n){return n.enabled}):r.components.custom.slice(0);return u.unshift(n?o.reverse():f),r._execute.apply(r,u).then(function(){return u.shift(),u.unshift(n?e.reverse():e),r._execute.apply(r,u).then(function(){return u.shift(),u.unshift(n?f.reverse():o),r._execute.apply(r,u)})})},_execute:function(i,r){if(!i||!i.length)return n.when();var f=this,u=Array.prototype.slice.call(arguments),e;return(i=u.shift(),r=u.shift(),e=i.shift(),!t.is.fn(e[r]))?f._execute.apply(f,[i,r].concat(u)):n.Deferred(function(n){try{var i=e[r].apply(e,u);if(t.is.promise(i))return i.then(n.resolve,n.reject);n.resolve(i)}catch(f){n.reject(f)}}).then(function(){return f._execute.apply(f,[i,r].concat(u))})},_onWindowResize:function(n){var t=n.data.self;t._resizeTimeout!=null&&clearTimeout(t._resizeTimeout);t._resizeTimeout=setTimeout(function(){t._resizeTimeout=null;t.raise("resize.ft.table").then(function(){t.breakpoints.check()})},300)}})}(jQuery,FooTable),function(n,t){t.is.undef(window.moment)||(t.DateColumn=t.Column.extend({construct:function(n,i){this._super(n,i);this.type="date";this.formatString=t.is.string(i.formatString)?i.formatString:"MM-DD-YYYY"},parser:function(n){if(t.is.jq(n)&&(n=n.data("value")||n.text(),t.is.string(n)&&(n=isNaN(n)?n:+n)),t.is.date(n))return moment(n);if(t.is.object(n)&&t.is.boolean(n._isAMomentObject))return n;if(t.is.string(n)){if(isNaN(n))return moment(n,this.formatString);n=+n}return t.is.number(n)?moment(n):null},formatter:function(n){return t.is.object(n)&&t.is.boolean(n._isAMomentObject)?n.format(this.formatString):""},filterValue:function(i){if((t.is.element(i)||t.is.jq(i))&&(i=n(i).data("filterValue")||n(i).text()),t.is.hash(i)&&t.is.hash(i.options)&&(t.is.string(i.options.filterValue)&&(i=i.options.filterValue),t.is.defined(i.value)&&(i=i.value)),t.is.object(i)&&t.is.boolean(i._isAMomentObject))return i.format(this.formatString);if(t.is.string(i)){if(isNaN(i))return i;i=+i}return t.is.number(i)||t.is.date(i)?moment(i).format(this.formatString):t.is.defined(i)&&i!=null?i+"":""}}),t.columns.register("date",t.DateColumn))}(jQuery,FooTable),function(n,t){t.NumberColumn=t.Column.extend({construct:function(n,t){this._super(n,t);this.type="number"},parser:function(n){return(t.is.jq(n)&&(n=n.data("value")||n.text().replace(/[^0-9.\-]/g,"")),t.is.string(n)&&(n=parseFloat(n)),t.is.number(n))?n:null}});t.columns.register("number",t.NumberColumn)}(jQuery,FooTable),function(n,t){t.Component=t.Class.extend({construct:function(n,i){if(!(n instanceof t.Table))throw new TypeError("The instance parameter must be an instance of FooTable.Table.");this.ft=n;this.enabled=t.is.boolean(i)?i:!1},preinit:null,init:null,destroy:null,predraw:null,draw:null,postdraw:null});t.components=new t.ClassFactory;t.components.core=new t.ClassFactory;t.components.internal=new t.ClassFactory}(jQuery,FooTable),function(n,t){t.Breakpoint=t.Class.extend({construct:function(n,t){this.name=n;this.width=t}})}(jQuery,FooTable),function(n,t){t.Breakpoints=t.Component.extend({construct:function(n){this._super(n,!0);this.o=n.o;this.current=null;this.array=[];this.cascade=this.o.cascade;this.hidden=null;this._classNames="";this.getWidth=t.checkFnValue(this,this.o.getWidth,this.getWidth)},preinit:function(n){var i=this;return this.ft.raise("preinit.ft.breakpoints",[n]).then(function(){i.cascade=t.is.boolean(n.cascade)?n.cascade:i.cascade;i.o.breakpoints=t.is.hash(n.breakpoints)?n.breakpoints:i.o.breakpoints;i.getWidth=t.checkFnValue(i,n.getWidth,i.getWidth);i.o.breakpoints==null&&(i.o.breakpoints={xs:480,sm:768,md:992,lg:1200});for(var r in i.o.breakpoints)i.o.breakpoints.hasOwnProperty(r)&&(i.array.push(new t.Breakpoint(r,i.o.breakpoints[r])),i._classNames+="breakpoint-"+r+" ");i.array.sort(function(n,t){return t.width-n.width})})},init:function(){var n=this;return this.ft.raise("init.ft.breakpoints").then(function(){n.current=n.get()})},draw:function(){this.ft.$el.removeClass(this._classNames).addClass("breakpoint-"+this.current.name)},calculate:function(){for(var r=this,n=null,f=[],i,e=null,o=r.getWidth(),u=0,s=r.array.length;u<s;u++)i=r.array[u],(!n&&u==s-1||o>=i.width&&(e instanceof t.Breakpoint?o<=e.width:!0))&&(n=i),n||f.push(i.name),e=i;return f.push(n.name),r.hidden=f.join(" "),n},visible:function(n){if(t.is.emptyString(n))return!0;if(n==="all")return!1;for(var r=n.split(" "),i=0,u=r.length;i<u;i++)if(this.cascade?t.str.containsWord(this.hidden,r[i]):r[i]==this.current.name)return!1;return!0},check:function(){var n=this,i=n.get();i instanceof t.Breakpoint&&i!=n.current&&n.ft.raise("before.ft.breakpoints",[n.current,i]).then(function(){var t=n.current;return n.current=i,n.ft.draw().then(function(){n.ft.raise("after.ft.breakpoints",[n.current,t])})})},get:function(n){return t.is.undef(n)?this.calculate():n instanceof t.Breakpoint?n:t.is.string(n)?t.arr.first(this.array,function(t){return t.name==n}):t.is.number(n)?n>=0&&n<this.array.length?this.array[n]:null:null},getWidth:function(){return t.is.fn(this.o.getWidth)?this.o.getWidth(this.ft):this.o.useParentWidth==!0?this.getParentWidth():this.getViewportWidth()},getParentWidth:function(){return this.ft.$el.parent().width()},getViewportWidth:function(){var n=t.is.defined(window.devicePixelRatio)?window.devicePixelRatio:1;return(window.innerWidth||(document.body?document.body.offsetWidth:0))/n}});t.components.internal.register("breakpoints",t.Breakpoints,10)}(jQuery,FooTable),function(n){n.Column.prototype.breakpoints=null;n.Column.prototype.__breakpoints_define__=function(t){this.breakpoints=n.is.emptyString(t.breakpoints)?null:t.breakpoints};n.Column.extend("define",function(n){this._super(n);this.__breakpoints_define__(n)})}(FooTable),function(n){n.Defaults.prototype.breakpoints=null;n.Defaults.prototype.cascade=!1;n.Defaults.prototype.useParentWidth=!1;n.Defaults.prototype.getWidth=null}(FooTable),function(n,t){t.Columns=t.Component.extend({construct:function(n){this._super(n,!0);this.o=n.o;this.array=[];this.$header=null;this.showHeader=n.o.showHeader},parse:function(){var i=this;return n.Deferred(function(r){function h(i,r){var e=[],u,f,o,s;if(i.length==0||r.length==0)e=i.concat(r);else for(u=0,t.arr.each(i.concat(r),function(n){n.index>u&&(u=n.index)}),u++,f=0;f<u;f++)o={},t.arr.each(i,function(n){if(n.index==f)return o=n,!1}),s={},t.arr.each(r,function(n){if(n.index==f)return s=n,!1}),e.push(n.extend(!0,{},o,s));return e}function c(n){var u=[],f;t.arr.each(n,function(n){(f=t.columns.contains(n.type)?t.columns.make(n.type,i.ft,n):new t.Column(i.ft,n))&&u.push(f)});t.is.emptyArray(u)?r.reject(Error("No columns supplied.")):(u.sort(function(n,t){return n.index-t.index}),r.resolve(u))}var f=[],o=[],u=i.ft.$el.find("tr.footable-header"),l,e,s;u.length==0&&(u=i.ft.$el.find("thead > tr:last:has([data-breakpoints])"));u.length==0&&(u=i.ft.$el.find("tbody > tr:first:has([data-breakpoints])"));u.length>0&&(s=u.parent().is("tbody")&&u.children().length==u.children("td").length,s||(i.$header=u.addClass("footable-header")),u.children("td,th").each(function(t,i){l=n(i);e=l.data();e.index=t;e.$el=l;e.virtual=s;o.push(e)}),s&&(i.showHeader=!1));t.is.array(i.o.columns)?(t.arr.each(i.o.columns,function(n,t){n.index=t;f.push(n)}),c(h(f,o))):t.is.promise(i.o.columns)?i.o.columns.then(function(n){t.arr.each(n,function(n,t){n.index=t;f.push(n)});c(h(f,o))},function(n){r.reject(Error("Columns ajax request error: "+n.status+" ("+n.statusText+")"))}):c(h(f,o))})},preinit:function(n){var i=this;return i.ft.raise("preinit.ft.columns",[n]).then(function(){return i.parse(n).then(function(r){i.array=r;i.showHeader=t.is.boolean(n.showHeader)?n.showHeader:i.showHeader})})},init:function(){var n=this;return this.ft.raise("init.ft.columns",[n.array]).then(function(){n.$create()})},predraw:function(){var n=this,i=!0;n.visibleColspan=0;n.firstVisibleIndex=0;n.lastVisibleIndex=0;n.hasHidden=!1;t.arr.each(n.array,function(t){t.hidden=!n.ft.breakpoints.visible(t.breakpoints);t.hidden||(i&&(n.firstVisibleIndex=t.index,i=!1),n.lastVisibleIndex=t.index,n.visibleColspan++);t.hidden&&t.visible&&(n.hasHidden=!0)})},draw:function(){t.arr.each(this.array,function(n){n.$el.css("display",n.hidden||!n.visible?"none":"table-cell")})},$create:function(){var i=this;i.$header=t.is.jq(i.$header)?i.$header:n("<tr/>",{"class":"footable-header"});i.$header.children("th,td").detach();t.arr.each(i.array,function(n){i.$header.append(n.$el)});i.showHeader&&!t.is.jq(i.$header.parent())&&i.ft.$el.children("thead").append(i.$header)},get:function(n){return n instanceof t.Column?n:t.is.string(n)?t.arr.first(this.array,function(t){return t.name==n}):t.is.number(n)?t.arr.first(this.array,function(t){return t.index==n}):t.is.fn(n)?t.arr.get(this.array,n):null},ensure:function(n){var r=this,i=[];return t.is.array(n)?(t.arr.each(n,function(n){i.push(r.get(n))}),i):i}});t.components.internal.register("columns",t.Columns,5)}(jQuery,FooTable),function(n){n.Defaults.prototype.columns=[];n.Defaults.prototype.showHeader=!0}(FooTable),function(n,t){t.Rows=t.Component.extend({construct:function(n){this._super(n,!0);this.o=n.o;this.array=[];this.all=[];this.showToggle=n.o.showToggle;this.toggleColumn=n.o.toggleColumn;this.emptyString=n.o.empty;this.expandFirst=n.o.expandFirst;this.$empty=null},parse:function(){var i=this;return n.Deferred(function(r){function u(u){var f=n.map(u,function(n){return new t.Row(i.ft,i.ft.columns.array,n)});t.is.emptyArray(f)?r.reject(Error("No rows supplied.")):r.resolve(f)}var f=i.ft.$el.children("tbody").children("tr");t.is.jq(f)?u(f):t.is.array(i.o.rows)&&i.o.rows.length>0?u(i.o.rows):t.is.promise(i.o.rows)?i.o.rows.then(function(n){u(n)},function(n){r.reject(Error("Rows ajax request error: "+n.status+" ("+n.statusText+")"))}):u([])})},preinit:function(n){var i=this;return i.ft.raise("preinit.ft.rows",[n]).then(function(){return i.parse().then(function(r){i.all=r;i.array=i.all.slice(0);i.showToggle=t.is.boolean(n.showToggle)?n.showToggle:i.showToggle;i.toggleColumn=t.is.string(n.toggleColumn)?n.toggleColumn:i.toggleColumn;i.toggleColumn!="first"&&i.toggleColumn!="last"&&(i.toggleColumn="first");i.emptyString=t.is.string(n.empty)?n.empty:i.emptyString;i.expandFirst=t.is.boolean(n.expandFirst)?n.expandFirst:i.expandFirst})})},init:function(){var t=this;return t.ft.raise("init.ft.rows",[t.all]).then(function(){t.$empty=n("<tr/>",{"class":"footable-empty"}).append(n("<td/>").text(t.emptyString))})},predraw:function(){t.arr.each(this.array,function(n){n.predraw()});this.array=this.all.slice(0)},draw:function(){var n=this,i=n.ft.$el.children("tbody"),r=!0;n.array.length>0?(n.$empty.detach(),t.arr.each(n.array,function(t){n.expandFirst&&r&&(t.expanded=!0,r=!1);t.draw(i)})):(n.$empty.children("td").attr("colspan",n.ft.columns.visibleColspan),i.append(n.$empty))}});t.components.internal.register("rows",t.Rows,0)}(jQuery,FooTable),function(n){n.Defaults.prototype.rows=[];n.Defaults.prototype.empty="No results";n.Defaults.prototype.showToggle=!0;n.Defaults.prototype.toggleColumn="first";n.Defaults.prototype.expandFirst=!1}(FooTable),function(n){n.Filter=n.Class.extend({construct:function(t,i,r,u){this.name=t;this.space=n.is.string(u)&&(u=="OR"||u=="AND")?u:"AND";this.query=new n.Query(i,this.space);this.columns=r},match:function(t){return n.is.string(t)?(n.is.string(this.query)&&(this.query=new n.Query(this.query,this.space)),this.query instanceof n.Query?this.query.match(t):!1):!1},matchRow:function(t){var i=this,r=n.arr.map(t.cells,function(t){return n.arr.contains(i.columns,t.column)?t.filterValue:null}).join(" ");return i.match(r)}})}(FooTable),function(n,t){t.Filtering=t.Component.extend({construct:function(n){this._super(n,n.o.filtering.enabled);this.filters=n.o.filtering.filters;this.delay=n.o.filtering.delay;this.min=n.o.filtering.min;this.space=n.o.filtering.space;this.placeholder=n.o.filtering.placeholder;this.position=n.o.filtering.position;this.$row=null;this.$cell=null;this.$dropdown=null;this.$input=null;this.$button=null;this._filterTimeout=null},preinit:function(n){var i=this;this.ft.raise("preinit.ft.filtering").then(function(){(i.ft.$el.hasClass("footable-filtering")&&(i.enabled=!0),i.enabled=t.is.boolean(n.filtering)?n.filtering:i.enabled,i.enabled)&&(i.space=t.is.string(n.filterSpace)?n.filteringSpace:i.space,i.min=t.is.number(n.filterMin)?n.filteringMin:i.min,i.delay=t.is.number(n.filterDelay)?n.filteringDelay:i.delay,i.placeholder=t.is.number(n.filterPlaceholder)?n.filterPlaceholder:i.placeholder,i.filters=t.is.array(n.filters)?i.ensure(n.filters):i.ensure(i.filters),i.ft.$el.hasClass("footable-filtering-left")&&(i.position="left"),i.ft.$el.hasClass("footable-filtering-center")&&(i.position="center"),i.ft.$el.hasClass("footable-filtering-right")&&(i.position="right"),i.position=t.is.string(n.filterPosition)?n.filterPosition:i.position)},function(){i.enabled=!1})},init:function(){var n=this;this.ft.raise("init.ft.filtering").then(function(){n.$create()},function(){n.enabled=!1})},destroy:function(){var n=this;this.ft.raise("destroy.ft.filtering").then(function(){n.ft.$el.removeClass("footable-filtering").find("thead > tr.footable-filtering").remove()})},$create:function(){var i=this,u=n("<div/>",{"class":"form-group"}).append(n("<label/>",{"class":"sr-only",text:"Search"})),e=n("<div/>",{"class":"input-group"}).appendTo(u),f=n("<div/>",{"class":"input-group-btn"}),o=n("<button/>",{type:"button","class":"btn btn-default dropdown-toggle"}).on("click",{self:i},i._onDropdownToggleClicked).append(n("<span/>",{"class":"caret"})),r;switch(i.position){case"left":r="footable-filtering-left";break;case"center":r="footable-filtering-center";break;default:r="footable-filtering-right"}if(i.ft.$el.addClass("footable-filtering").addClass(r),i.$row=n("<tr/>",{"class":"footable-filtering"}).prependTo(i.ft.$el.children("thead")),i.$cell=n("<th/>").attr("colspan",i.ft.columns.visibleColspan).appendTo(i.$row),i.$form=n("<form/>",{"class":"form-inline"}).append(u).appendTo(i.$cell),i.$input=n("<input/>",{type:"text","class":"form-control",placeholder:i.placeholder}),i.$button=n("<button/>",{type:"button","class":"btn btn-primary"}).on("click",{self:i},i._onSearchButtonClicked).append(n("<span/>",{"class":"fooicon fooicon-search"})),i.$dropdown=n("<ul/>",{"class":"dropdown-menu dropdown-menu-right"}).append(t.arr.map(i.ft.columns.array,function(t){return t.filterable&&t.visible?n("<li/>").append(n("<a/>",{"class":"checkbox"}).append(n("<label/>",{text:t.title}).prepend(n("<input/>",{type:"checkbox",checked:!0}).data("__FooTableColumn__",t)))):null})),i.delay>0){i.$input.on("keypress keyup",{self:i},i._onSearchInputChanged);i.$dropdown.on("click",'input[type="checkbox"]',i._onSearchColumnClicked)}f.append(i.$button,o,i.$dropdown);e.append(i.$input,f)},predraw:function(){if(!t.is.emptyArray(this.filters)){var i=this;i.ft.rows.array=n.grep(i.ft.rows.array,function(n){return n.filtered(i.filters)})}},draw:function(){this.$cell.attr("colspan",this.ft.columns.visibleColspan)},addFilter:function(n,i,r){var u=t.arr.first(this.filters,function(t){return t.name==n});u instanceof t.Filter?(u.name=n,u.query=i,u.columns=r):this.filters.push({name:n,query:i,columns:r})},removeFilter:function(n){t.arr.remove(this.filters,function(t){return t.name==n})},filter:function(i,r){return t.is.undef(i)?i=n.trim(this.$input.val()||""):this.$input.val(i),t.is.emptyString(i)?this.removeFilter("search"):this.addFilter("search",i,r),this.$button.children(".fooicon").removeClass("fooicon-search").addClass("fooicon-remove"),this._filter()},clear:function(){return this.$button.children(".fooicon").removeClass("fooicon-remove").addClass("fooicon-search"),this.$input.val(null),this.removeFilter("search"),this._filter()},columns:function(){return t.is.jq(this.$dropdown)?this.$dropdown.find("input:checked").map(function(){return n(this).data("__FooTableColumn__")}).get():this.ft.columns.get(function(n){return n.filterable})},ensure:function(n){var i=this,r=[],u=i.columns();return t.is.emptyArray(n)||t.arr.each(n,function(n){t.is.object(n)&&(!t.is.emptyString(n.query)||n.query instanceof t.Query)&&(n.name=t.is.emptyString(n.name)?"anon":n.name,n.columns=t.is.emptyArray(n.columns)?u:i.ft.columns.ensure(n.columns),r.push(n instanceof t.Filter?n:new t.Filter(n.name,n.query,n.columns,i.space)))}),r},_filter:function(){var n=this;return n.filters=n.ensure(n.filters),n.ft.raise("before.ft.filtering",[n.filters]).then(function(){return n.filters=n.ensure(n.filters),n.ft.draw().then(function(){n.ft.raise("after.ft.filtering",[n.filters])})})},_onSearchInputChanged:function(n){var i=n.data.self,r=n.type=="keypress"&&!t.is.emptyString(String.fromCharCode(n.charCode)),u=n.type=="keyup"&&(n.which==8||n.which==46);(r||u)&&(i._filterTimeout!=null&&clearTimeout(i._filterTimeout),i._filterTimeout=setTimeout(function(){i._filterTimeout=null;i.filter()},i.delay))},_onSearchButtonClicked:function(n){var t,i;n.preventDefault();t=n.data.self;t._filterTimeout!=null&&clearTimeout(t._filterTimeout);i=t.$button.children(".fooicon");i.hasClass("fooicon-remove")?t.clear():t.filter()},_onSearchColumnClicked:function(n){var t=n.data.self;t._filterTimeout!=null&&clearTimeout(t._filterTimeout);t._filterTimeout=setTimeout(function(){t._filterTimeout=null;var n=t.$button.children(".fooicon");n.hasClass("fooicon-remove")&&(n.removeClass("fooicon-remove").addClass("fooicon-search"),t.filter())},t.delay)},_onDropdownToggleClicked:function(t){t.preventDefault();t.stopPropagation();var i=t.data.self;if(i.$dropdown.parent().toggleClass("open"),i.$dropdown.parent().hasClass("open"))n(document).on("click.footable",{self:i},i._onDocumentClicked);else n(document).off("click.footable",i._onDocumentClicked)},_onDocumentClicked:function(t){if(n(t.target).closest(".dropdown-menu").length==0){t.preventDefault();var i=t.data.self;i.$dropdown.parent().removeClass("open");n(document).off("click.footable",i._onDocumentClicked)}}});t.components.core.register("filtering",t.Filtering,10)}(jQuery,FooTable),function(n){n.Query=n.Class.extend({construct:function(t,i){this._original=null;this._value=null;this.space=n.is.string(i)&&(i=="OR"||i=="AND")?i:"AND";this.left=null;this.right=null;this.parts=[];this.operator=null;this.val(t)},val:function(t){if(n.is.emptyString(t))return this._value;if(n.is.emptyString(this._original))this._original=t;else if(this._original==t)return;this._value=t;this._parse()},match:function(t){return n.is.emptyString(this.operator)||this.operator==="OR"?this._left(t,!1)||this._match(t,!1)||this._right(t,!1):this.operator==="AND"?this._left(t,!0)&&this._match(t,!0)&&this._right(t,!0):void 0},_match:function(t,i){var u=this,r=!1;return n.is.emptyArray(u.parts)&&u.left instanceof n.Query?i:n.is.emptyArray(u.parts)?r:(u.space==="OR"?n.arr.each(u.parts,function(i){var u=n.str.contains(t,i.query,!0);return u&&!i.negate&&(r=!0),u&&i.negate?r=!1:void 0}):(r=!0,n.arr.each(u.parts,function(i){var u=n.str.contains(t,i.query,!0);return(!u&&!i.negate||u&&i.negate)&&(r=!1),r})),r)},_left:function(t,i){return this.left instanceof n.Query?this.left.match(t):i},_right:function(t,i){return this.right instanceof n.Query?this.right.match(t):i},_parse:function(){var t,i;n.is.emptyString(this._value)||(/\sOR\s/.test(this._value)?(this.operator="OR",t=this._value.split(/(?:\sOR\s)(.*)?/),this.left=new n.Query(t[0],this.space),this.right=new n.Query(t[1],this.space)):/\sAND\s/.test(this._value)?(this.operator="AND",i=this._value.split(/(?:\sAND\s)(.*)?/),this.left=new n.Query(i[0],this.space),this.right=new n.Query(i[1],this.space)):this.parts=n.arr.map(this._value.match(/(?:[^\s"]+|"[^"]*")+/g),this._part))},_part:function(t){var i={query:t,negate:!1,phrase:!1,exact:!1};return n.str.startsWith(i.query,"-")&&(i.query=n.str.from(i.query,"-"),i.negate=!0),/^"(.*?)"$/.test(i.query)?(i.query=i.query.replace(/^"(.*?)"$/,"$1"),i.phrase=!0,i.exact=!0):/(?:\w)+?([-_\+\.])(?:\w)+?/.test(i.query)&&(i.query=i.query.replace(/(?:\w)+?([-_\+\.])(?:\w)+?/g,function(n,t){return n.replace(t," ")}),i.phrase=!0),i}})}(FooTable),function(n){n.Cell.prototype.filterValue=null;n.Cell.prototype.__filtering_define__=function(n){this.filterValue=this.column.filterValue.call(this.column,n)};n.Cell.prototype.__filtering_val__=function(t){n.is.defined(t)&&(this.filterValue=this.column.filterValue.call(this.column,t))};n.Cell.extend("define",function(n){this._super(n);this.__filtering_define__(n)});n.Cell.extend("val",function(n){var t=this._super(n);return this.__filtering_val__(n),t})}(FooTable),function(n,t){t.Column.prototype.filterable=!0;t.Column.prototype.filterValue=function(i){if(t.is.element(i)||t.is.jq(i))return n(i).data("filterValue")||n(i).text();if(t.is.hash(i)&&t.is.hash(i.options)){if(t.is.string(i.options.filterValue))return i.options.filterValue;t.is.defined(i.value)&&(i=i.value)}return t.is.defined(i)&&i!=null?i+"":""};t.Column.prototype.__filtering_define__=function(n){this.filterable=t.is.boolean(n.filterable)?n.filterable:this.filterable};t.Column.extend("define",function(n){this._super(n);this.__filtering_define__(n)})}(jQuery,FooTable),function(n){n.Defaults.prototype.filtering={enabled:!1,filters:[],delay:1200,min:3,space:"AND",placeholder:"Search",position:"right"}}(FooTable),function(n){n.Row.prototype.filtered=function(t){var i=!0,r=this;return n.arr.each(t,function(n){if((i=n.matchRow(r))==!1)return!1}),i}}(FooTable),function(n){n.Table.prototype.applyFilter=function(t,i){return this.use(n.Filtering).filter(t,i)};n.Table.prototype.clearFilter=function(){return this.use(n.Filtering).clear()}}(FooTable),function(n,t){t.Sorter=t.Class.extend({construct:function(n,t){this.column=n;this.direction=t}})}(jQuery,FooTable),function(n,t){t.Sorting=t.Component.extend({construct:function(n){this._super(n,n.o.sorting.enabled);this.o=n.o.sorting;this.column=null;this._changed=!1},preinit:function(n){var i=this;this.ft.raise("preinit.ft.sorting",[n]).then(function(){(i.ft.$el.hasClass("footable-sorting")&&(i.enabled=!0),i.enabled=t.is.boolean(n.sorting)?n.sorting:i.enabled,i.enabled)&&(i.column=t.arr.first(i.ft.columns.array,function(n){return n.sorted}))},function(){i.enabled=!1})},init:function(){var i=this;this.ft.raise("init.ft.sorting").then(function(){t.arr.each(i.ft.columns.array,function(t){t.sortable&&t.$el.addClass("footable-sortable").append(n("<span/>",{"class":"fooicon fooicon-sort"}))});i.ft.$el.on("click.footable",".footable-sortable",{self:i},i._onSortClicked)},function(){i.enabled=!1})},destroy:function(){var n=this;this.ft.raise("destroy.ft.paging").then(function(){n.ft.$el.off("click.footable",".footable-sortable",n._onSortClicked);n.ft.$el.children("thead").children("tr.footable-header").children(".footable-sortable").removeClass("footable-sortable").find("span.fooicon").remove()})},predraw:function(){if(this.column){var t=this,n=t.column;t.ft.rows.array.sort(function(t,i){return n.direction=="ASC"?n.sorter(t.cells[n.index].value,i.cells[n.index].value):n.sorter(i.cells[n.index].value,t.cells[n.index].value)})}},draw:function(){if(this.column){var n=this,t=n.ft.$el.find("thead > tr > .footable-sortable"),i=n.column.$el;t.removeClass("footable-asc footable-desc").children(".fooicon").removeClass("fooicon-sort fooicon-sort-asc fooicon-sort-desc");t.not(i).children(".fooicon").addClass("fooicon-sort");i.addClass(n.column.direction=="ASC"?"footable-asc":"footable-desc").children(".fooicon").addClass(n.column.direction=="ASC"?"fooicon-sort-asc":"fooicon-sort-desc")}},sort:function(n,t){return this._sort(n,t)},_sort:function(n,i){var r=this,u=new t.Sorter(r.ft.columns.get(n),t.Sorting.dir(i));return r.ft.raise("before.ft.sorting",[u]).then(function(){return t.arr.each(r.ft.columns.array,function(n){n!=r.column&&(n.direction=null)}),r.column=r.ft.columns.get(u.column),r.column&&(r.column.direction=t.Sorting.dir(u.direction)),r.ft.draw().then(function(){r.ft.raise("after.ft.sorting",[u])})})},_onSortClicked:function(t){t.preventDefault();var r=t.data.self,i=n(this).closest("th,td"),u=i.is(".footable-asc, .footable-desc")?i.hasClass("footable-desc")?"ASC":"DESC":"ASC";r._sort(i.index(),u)}});t.Sorting.dir=function(n){return t.is.string(n)&&(n=="ASC"||n=="DESC")?n:"ASC"};t.components.core.register("sorting",t.Sorting,5)}(jQuery,FooTable),function(n,t){t.Column.prototype.direction=null;t.Column.prototype.sortable=!0;t.Column.prototype.sorted=!1;t.Column.prototype.sorter=function(n,t){return(typeof n=="string"&&(n=n.toLowerCase()),typeof t=="string"&&(t=t.toLowerCase()),n===t)?0:n<t?-1:1};t.Column.prototype.__sorting_define__=function(n){this.sorter=t.checkFnValue(this,n.sorter,this.sorter);this.direction=t.is.type(n.direction,"string")?t.Sorting.dir(n.direction):null;this.sortable=t.is.boolean(n.sortable)?n.sortable:!0;this.sorted=t.is.boolean(n.sorted)?n.sorted:!1};t.Column.extend("define",function(n){this._super(n);this.__sorting_define__(n)})}(jQuery,FooTable),function(n){n.Defaults.prototype.sorting={enabled:!1}}(FooTable),function(n){n.Table.prototype.sort=function(t,i){return this.use(n.Sorting).sort(t,i)}}(FooTable),function(n,t){t.Pager=t.Class.extend({construct:function(n,t,i,r,u){this.total=n;this.current=t;this.size=i;this.page=r;this.forward=u}})}(jQuery,FooTable),function(n,t){t.Paging=t.Component.extend({construct:function(n){this._super(n,n.o.paging.enabled);this.strings=n.o.paging.strings;this.current=n.o.paging.current;this.size=n.o.paging.size;this.limit=n.o.paging.limit;this.position=n.o.paging.position;this.countFormat=n.o.paging.countFormat;this.total=-1;this.$row=null;this.$cell=null;this.$pagination=null;this.$count=null;this._previous=1;this._total=0},preinit:function(n){var i=this;this.ft.raise("preinit.ft.paging",[n]).then(function(){(i.ft.$el.hasClass("footable-paging")&&(i.enabled=!0),i.enabled=t.is.boolean(n.paging)?n.paging:i.enabled,i.enabled)&&(i.size=t.is.number(n.pagingSize)?n.pagingSize:i.size,i.current=t.is.number(n.pagingCurrent)?n.pagingCurrent:i.current,i.limit=t.is.number(n.pagingLimit)?n.pagingLimit:i.limit,i.ft.$el.hasClass("footable-paging-left")&&(i.position="left"),i.ft.$el.hasClass("footable-paging-center")&&(i.position="center"),i.ft.$el.hasClass("footable-paging-right")&&(i.position="right"),i.position=t.is.string(n.pagingPosition)?n.pagingPosition:i.position,i.countFormat=t.is.string(n.pagingCountFormat)?n.pagingCountFormat:i.countFormat,i.total=Math.ceil(i.ft.rows.array.length/i.size),i._total=i.total)},function(){i.enabled=!1})},init:function(){var n=this;this.ft.raise("init.ft.paging").then(function(){n.$create()},function(){n.enabled=!1})},destroy:function(){var n=this;this.ft.raise("destroy.ft.paging").then(function(){n.ft.$el.removeClass("footable-paging").find("tfoot > tr.footable-paging").remove()})},predraw:function(){this.total=Math.ceil(this.ft.rows.array.length/this.size);this.current=this.current>this.total?this.total:this.current<1?1:this.current;this._total=this.ft.rows.array.length;this.ft.rows.array.length>this.size&&(this.ft.rows.array=this.ft.rows.array.splice((this.current-1)*this.size,this.size))},draw:function(){this.$cell.attr("colspan",this.ft.columns.visibleColspan);this._setVisible(this.current,this.current>this._previous);this._setNavigation(!0)},$create:function(){var t=this,f=t.total>1,i=function(t,i,r){return n("<li/>",{"class":r}).attr("data-page",t).append(n("<a/>",{"class":"footable-page-link",href:"#"}).data("page",t).html(i))},u,r,e;switch(t.position){case"left":u="footable-paging-left";break;case"right":u="footable-paging-right";break;default:u="footable-paging-center"}if(t.ft.$el.addClass("footable-paging").addClass(u),t.$cell=n("<td/>").attr("colspan",t.ft.columns.visibleColspan),t.$row=n("<tr/>",{"class":"footable-paging"}).append(t.$cell).appendTo(t.ft.$el.children("tfoot")),t.$pagination=n("<ul/>",{"class":"pagination"}).on("click.footable","a.footable-page-link",{self:t},t._onPageClicked),t.$count=n("<span/>",{"class":"label label-default"}),t.total==0||t.total==1){t.$pagination.empty();t.$count.text(t.total+" of "+t.total);t._total=t.total;return}for(t.$pagination.empty(),f&&(t.$pagination.append(i("first",t.strings.first,"footable-page-nav")),t.$pagination.append(i("prev",t.strings.prev,"footable-page-nav")),t.limit>0&&t.limit<t.total&&t.$pagination.append(i("prev-limit",t.strings.prevPages,"footable-page-nav"))),r=0;r<t.total;r++)e=i(r+1,r+1,"footable-page"),t.$pagination.append(e);f&&(t.limit>0&&t.limit<t.total&&t.$pagination.append(i("next-limit",t.strings.nextPages,"footable-page-nav")),t.$pagination.append(i("next",t.strings.next,"footable-page-nav")),t.$pagination.append(i("last",t.strings.last,"footable-page-nav")));t.$cell.append(t.$pagination,n("<div/>",{"class":"divider"}),t.$count);t._total=t.total},first:function(){return this._set(1)},prev:function(){return this._set(this.current-1>0?this.current-1:1)},next:function(){return this._set(this.current+1<this.total?this.current+1:this.total)},last:function(){return this._set(this.total)},goto:function(n){return this._set(n>this.total?this.total:n<1?1:n)},prevPages:function(){var n=this.$pagination.children("li.footable-page.visible:first").data("page")-1;this._setVisible(n,!0);this._setNavigation(!1)},nextPages:function(){var n=this.$pagination.children("li.footable-page.visible:last").data("page")+1;this._setVisible(n,!1);this._setNavigation(!1)},_set:function(i){var r=this,u=new t.Pager(r.total,r.current,r.size,i,i>r.current);return r.ft.raise("before.ft.paging",[u]).then(function(){return(u.page=u.page>u.total?u.total:u.page,u.page=u.page<1?1:u.page,r.current==i)?n.when():(r._previous=r.current,r.current=u.page,r.ft.draw().then(function(){r.ft.raise("after.ft.paging",[u])}))})},_setNavigation:function(n){this.current==1?this.$pagination.children('li[data-page="first"],li[data-page="prev"]').addClass("disabled"):this.$pagination.children('li[data-page="first"],li[data-page="prev"]').removeClass("disabled");this.current==this.total?this.$pagination.children('li[data-page="next"],li[data-page="last"]').addClass("disabled"):this.$pagination.children('li[data-page="next"],li[data-page="last"]').removeClass("disabled");(this.$pagination.children("li.footable-page.visible:first").data("page")||1)==1?this.$pagination.children('li[data-page="prev-limit"]').addClass("disabled"):this.$pagination.children('li[data-page="prev-limit"]').removeClass("disabled");(this.$pagination.children("li.footable-page.visible:last").data("page")||this.limit)==this.total?this.$pagination.children('li[data-page="next-limit"]').addClass("disabled"):this.$pagination.children('li[data-page="next-limit"]').removeClass("disabled");this.limit>0&&this.total<this.limit?this.$pagination.children('li[data-page="prev-limit"],li[data-page="next-limit"]').hide():this.$pagination.children('li[data-page="prev-limit"],li[data-page="next-limit"]').show();n&&this.$pagination.children("li.footable-page").removeClass("active").filter('li[data-page="'+this.current+'"]').addClass("active")},_setVisible:function(n,t){var i,r,f,u;this.limit>0&&this.total>this.limit?this.$pagination.children('li.footable-page[data-page="'+n+'"]').hasClass("visible")||(i=0,r=0,t==!0?(r=n>this.total?this.total:n,i=r-this.limit):(i=n<1?0:n-1,r=i+this.limit),i<0&&(i=0,r=this.limit>this.total?this.total:this.limit),r>this.total&&(r=this.total,i=this.total-this.limit<0?0:this.total-this.limit),this.$pagination.children("li.footable-page").removeClass("visible").slice(i,r).addClass("visible")):this.$pagination.children("li.footable-page").removeClass("visible").slice(0,this.total).addClass("visible");f=this.size*(n-1)+1;u=this.size*n;this.ft.rows.array.length==0?(f=0,u=0):u=u>this._total?this._total:u;this._setCount(n,this.total,f,u,this._total)},_setCount:function(n,t,i,r,u){this.$count.text(this.countFormat.replace(/\{CP}/g,n).replace(/\{TP}/g,t).replace(/\{PF}/g,i).replace(/\{PL}/g,r).replace(/\{TR}/g,u))},_onPageClicked:function(t){if(t.preventDefault(),!n(t.target).closest("li").is(".active,.disabled")){var i=t.data.self,r=n(this).data("page");switch(r){case"first":i.first();return;case"prev":i.prev();return;case"next":i.next();return;case"last":i.last();return;case"prev-limit":i.prevPages();return;case"next-limit":i.nextPages();return;default:i._set(r);return}}}});t.components.core.register("paging",t.Paging,0)}(jQuery,FooTable),function(n){n.Defaults.prototype.paging={enabled:!1,countFormat:"{CP} of {TP}",current:1,limit:5,position:"center",size:10,strings:{first:"&laquo;",prev:"&lsaquo;",next:"&rsaquo;",last:"&raquo;",prevPages:"...",nextPages:"..."}}}(FooTable),function(n){n.Table.prototype.gotoPage=function(t){return this.use(n.Paging).goto(t)};n.Table.prototype.nextPage=function(){return this.use(n.Paging).next()};n.Table.prototype.prevPage=function(){return this.use(n.Paging).prev()};n.Table.prototype.firstPage=function(){return this.use(n.Paging).first()};n.Table.prototype.lastPage=function(){return this.use(n.Paging).last()};n.Table.prototype.nextPages=function(){return this.use(n.Paging).nextPages()};n.Table.prototype.prevPages=function(){return this.use(n.Paging).prevPages()}}(FooTable);
//# sourceMappingURL=footable.min.js.map
